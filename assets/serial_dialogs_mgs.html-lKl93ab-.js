import{_ as s,o as a,c as l,a as e}from"./app-GYgAq86M.js";const o={},n=e(`<h1 id="serial-dialogs-mgs" tabindex="-1"><a class="header-anchor" href="#serial-dialogs-mgs" aria-hidden="true">#</a> Serial Dialogs (MGS)</h1><p>In <a href="../mgs/mgs_natlang">MGS Natlang</a>, <strong>serial dialogs</strong> are found within <a href="../mgs/serial_dialog_block">serial dialog blocks</a> and related <a href="../mgs/blocks#combination-blocks">combination blocks</a>.</p><p>Serial dialogs contain text meant to be shown via the serial console <a href="../terminal">terminal</a>. They are called serial &quot;dialogs&quot; because they are similar to <a href="../dialogs">dialogs</a> in many respects, but they are made up of text alone (as opposed to being accompanied by images and labels) and needn&#39;t be used for dialog specifically.</p><div class="language-mgs" data-ext="mgs"><pre class="shiki dark-plus" style="background-color:#1E1E1E;" tabindex="0"><code><span class="line"><span style="color:#569CD6;">serial dialog</span><span style="color:#9CDCFE;"> serialDialogName</span><span style="color:#D4D4D4;"> {</span></span>
<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#CE9178;">&quot;Serial dialogs go here!&quot;</span></span>
<span class="line"><span style="color:#D4D4D4;">}</span></span>
<span class="line"><span style="color:#6A9955;">//or</span></span>
<span class="line"><span style="color:#DCDCAA;">script</span><span style="color:#D4D4D4;"> {</span></span>
<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#569CD6;">show</span><span style="color:#D4D4D4;"> </span><span style="color:#9CDCFE;">serial dialog</span><span style="color:#CE9178;"> serialDialogName</span><span style="color:#D4D4D4;"> {</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#CE9178;">&quot;Serial dialogs go here!&quot;</span></span>
<span class="line"><span style="color:#D4D4D4;">  }</span></span>
<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#6A9955;">//or</span></span>
<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#569CD6;">show</span><span style="color:#D4D4D4;"> </span><span style="color:#9CDCFE;">serial dialog</span><span style="color:#D4D4D4;"> {</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#CE9178;">&quot;Serial dialogs go here!&quot;</span></span>
<span class="line"><span style="color:#D4D4D4;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#6A9955;">//secret serial dialog!</span></span>
<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#DCDCAA;">debug!</span><span style="color:#D4D4D4;">(</span><span style="color:#CE9178;">&quot;I am also a serial dialog!&quot;</span><span style="color:#D4D4D4;">)</span></span>
<span class="line"><span style="color:#D4D4D4;">}</span></span>
<span class="line"></span></code></pre><div class="highlight-lines"><br><div class="highlight-line"> </div><br><br><br><br><div class="highlight-line"> </div><br><br><br><div class="highlight-line"> </div><br><br><br><div class="highlight-line"> </div><br></div></div><h2 id="structure" tabindex="-1"><a class="header-anchor" href="#structure" aria-hidden="true">#</a> Structure</h2><ol><li><a href="#serial-dialog-parameters">Serial dialog parameter</a>: 0+</li><li><a href="#serial-dialog-messages">Serial dialog message</a>: 1+</li><li><a href="#serial-dialog-options">Serial dialog option</a>: 0+</li></ol><p>NOTE: unlike with conventional <a href="dialogs_mgs">dialogs</a>, serial dialog blocks cannot contain more than one serial dialog. In other words, inside a serial dialog block, no parameters can be given after a serial message, and nothing can come after a serial option (except more options).</p><h2 id="serial-dialog-parameters" tabindex="-1"><a class="header-anchor" href="#serial-dialog-parameters" aria-hidden="true">#</a> Serial Dialog Parameters</h2><div class="language-mgs" data-ext="mgs"><pre class="shiki dark-plus" style="background-color:#1E1E1E;" tabindex="0"><code><span class="line"><span style="color:#569CD6;">serial dialog</span><span style="color:#9CDCFE;"> sample</span><span style="color:#D4D4D4;"> {</span></span>
<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#569CD6;">wrap</span><span style="color:#9CDCFE;"> messages</span><span style="color:#D4D4D4;"> to </span><span style="color:#B5CEA8;">60</span></span>
<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#CE9178;">&quot;Hey, can anyone hear me? Hello?&quot;</span></span>
<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#C586C0;">#</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&quot;Yes, I can hear you.&quot;</span><span style="color:#D4D4D4;"> </span><span style="color:#C586C0;">:</span><span style="color:#D4D4D4;"> </span><span style="color:#C586C0;">goto </span><span style="color:#9CDCFE;">script </span><span style="color:#DCDCAA;">sampleYes</span></span>
<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#C586C0;">#</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&quot;What did you say?&quot;</span><span style="color:#D4D4D4;"> </span><span style="color:#C586C0;">:</span><span style="color:#D4D4D4;"> </span><span style="color:#C586C0;">goto </span><span style="color:#9CDCFE;">script </span><span style="color:#DCDCAA;">sampleNo</span></span>
<span class="line"><span style="color:#D4D4D4;">}</span></span>
<span class="line"></span></code></pre><div class="highlight-lines"><br><div class="highlight-line"> </div><br><br><br><br></div></div><p>Serial dialog parameters are a <a href="../serial_dialogs#properties">serial dialog property</a> and value pair. Multiple serial dialog parameters can occur back-to-back in a single <a href="../mgs/serial_dialogs_mgs">MGS Natlang serial dialog</a> or a <a href="../mgs/serial_dialog_settings_block">serial dialog settings block</a>.</p><ul><li><code>wrap (messages) (to) $number</code>. <ul><li><a href="../mgs/variables_mgs#number">Number</a>: the number of chars to auto wrap the contents of serial dialog messages.</li><li>80 is default.</li></ul></li></ul><p>(Yeah, there&#39;s only one parameter for the moment!)</p><h2 id="serial-dialog-messages" tabindex="-1"><a class="header-anchor" href="#serial-dialog-messages" aria-hidden="true">#</a> Serial Dialog Messages</h2><div class="language-mgs" data-ext="mgs"><pre class="shiki dark-plus" style="background-color:#1E1E1E;" tabindex="0"><code><span class="line"><span style="color:#569CD6;">serial dialog</span><span style="color:#9CDCFE;"> sample</span><span style="color:#D4D4D4;"> {</span></span>
<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#569CD6;">wrap</span><span style="color:#9CDCFE;"> messages</span><span style="color:#D4D4D4;"> to </span><span style="color:#B5CEA8;">60</span></span>
<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#CE9178;">&quot;Hey, can anyone hear me? Hello?&quot;</span></span>
<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#C586C0;">#</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&quot;Yes, I can hear you.&quot;</span><span style="color:#D4D4D4;"> </span><span style="color:#C586C0;">:</span><span style="color:#D4D4D4;"> </span><span style="color:#C586C0;">goto </span><span style="color:#9CDCFE;">script </span><span style="color:#DCDCAA;">sampleYes</span></span>
<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#C586C0;">#</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&quot;What did you say?&quot;</span><span style="color:#D4D4D4;"> </span><span style="color:#C586C0;">:</span><span style="color:#D4D4D4;"> </span><span style="color:#C586C0;">goto </span><span style="color:#9CDCFE;">script </span><span style="color:#DCDCAA;">sampleNo</span></span>
<span class="line"><span style="color:#D4D4D4;">}</span></span>
<span class="line"></span></code></pre><div class="highlight-lines"><br><br><div class="highlight-line"> </div><br><br><br></div></div><p>A serial dialog message is any <a href="../mgs/variables_mgs#quoted-string">quoted string</a>.</p><ul><li>To maximize compatibility, best to limit these to ASCII characters.</li><li>Each message is printed on its own line.</li><li>Some characters must be escaped in the message body, such as double quote (<code>\\&quot;</code>) (depending on the quotes you&#39;re using to wrap these). <ul><li><code>\\t</code> (tabs) are auto-converted to four spaces.</li><li><code>\\n</code> (new lines) are honored, but since text is wrapped automatically, don&#39;t worry about hard wrapping your messages unless you want to put line breaks in arbitrary places.</li></ul></li><li>Word processor &quot;smart&quot; characters such as ellipses (…), emdashes (—), and smart quotes (“”) are auto converted to ASCII equivalents (<code>...</code>) (<code>--</code>) (<code>&quot;</code>).</li><li>These messages may be given ANSI <a href="#serial_styles">styles</a>. Use the built-in styling syntax for best results.</li></ul><h2 id="serial-dialog-options" tabindex="-1"><a class="header-anchor" href="#serial-dialog-options" aria-hidden="true">#</a> Serial Dialog Options</h2><ul><li>A single serial dialog can only use one of the two types of option (multiple choice or free response). <ul><li>The parser will interpret all options within the block using the type of the first option.</li></ul></li><li>Unlike <a href="dialogs_mgs#dialog-options">dialog options</a>, the option count for serial dialogs is unlimited.</li><li>The <strong>label</strong> <em>must</em> be wrapped in <a href="../mgs/variables_mgs#quoted-string">quotes</a>.</li><li>The words <code>goto</code> and <code>script</code> are optional. Any <a href="../mgs/variables_mgs#string">string</a> given after the <code>:</code> (other than <code>goto</code> and <code>script</code>) is assumed to be the script name.</li></ul><h3 id="multiple-choice" tabindex="-1"><a class="header-anchor" href="#multiple-choice" aria-hidden="true">#</a> Multiple Choice</h3><div class="language-text" data-ext="text"><pre class="shiki dark-plus" style="background-color:#1E1E1E;" tabindex="0"><code><span class="line"><span style="color:#D4D4D4;"># $label:quotedString : (goto) (script) $script:string</span></span>
<span class="line"><span style="color:#D4D4D4;"></span></span></code></pre></div><p>Each <strong>label</strong> will appear as part of a numbered list in the serial console. These labels (and only these) may be <a href="#serial_styles">styled</a>.</p><p>The player cannot proceed until they enter a valid number, at which point the game will jump to the corresponding script. Failure results in a repeat of the same serial dialog again. That means this type of option will <em>always</em> result in a script jump.</p><div class="language-mgs" data-ext="mgs"><pre class="shiki dark-plus" style="background-color:#1E1E1E;" tabindex="0"><code><span class="line"><span style="color:#569CD6;">serial dialog</span><span style="color:#9CDCFE;"> sample</span><span style="color:#D4D4D4;"> {</span></span>
<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#569CD6;">wrap</span><span style="color:#9CDCFE;"> messages</span><span style="color:#D4D4D4;"> to </span><span style="color:#B5CEA8;">60</span></span>
<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#CE9178;">&quot;Hey, can anyone hear me? Hello?&quot;</span></span>
<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#C586C0;">#</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&quot;Yes, I can hear you.&quot;</span><span style="color:#D4D4D4;"> </span><span style="color:#C586C0;">:</span><span style="color:#D4D4D4;"> </span><span style="color:#C586C0;">goto </span><span style="color:#9CDCFE;">script </span><span style="color:#DCDCAA;">sampleYes</span></span>
<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#C586C0;">#</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&quot;What did you say?&quot;</span><span style="color:#D4D4D4;"> </span><span style="color:#C586C0;">:</span><span style="color:#D4D4D4;"> </span><span style="color:#C586C0;">goto </span><span style="color:#9CDCFE;">script </span><span style="color:#DCDCAA;">sampleNo</span></span>
<span class="line"><span style="color:#D4D4D4;">}</span></span>
<span class="line"></span></code></pre><div class="highlight-lines"><br><br><br><div class="highlight-line"> </div><div class="highlight-line"> </div><br></div></div><p>The above example becomes:</p><div class="language-text" data-ext="text"><pre class="shiki dark-plus" style="background-color:#1E1E1E;" tabindex="0"><code><span class="line"><span style="color:#D4D4D4;">Hey, can anyone hear me? Hello?</span></span>
<span class="line"><span style="color:#D4D4D4;">    0: Yes, I can hear you.</span></span>
<span class="line"><span style="color:#D4D4D4;">    1: What did you say?</span></span>
<span class="line"><span style="color:#D4D4D4;"></span></span>
<span class="line"><span style="color:#D4D4D4;">&gt;_</span></span>
<span class="line"><span style="color:#D4D4D4;"></span></span></code></pre></div><h3 id="free-response" tabindex="-1"><a class="header-anchor" href="#free-response" aria-hidden="true">#</a> Free Response</h3><div class="language-text" data-ext="text"><pre class="shiki dark-plus" style="background-color:#1E1E1E;" tabindex="0"><code><span class="line"><span style="color:#D4D4D4;">_ $label:quotedString : (goto) (script) $script:string</span></span>
<span class="line"><span style="color:#D4D4D4;"></span></span></code></pre></div><p>The <strong>label</strong> indicates what the player must type for the game to jump to the indicated script.</p><p>There is no explicit prompt for these options, but upon reaching the free response portion of the serial dialog, the player can type whatever they want into the serial console.</p><p>An invalid response will fall through, i.e. the script will continue executing actions further below. Therefore, only a <em>valid</em> response will result in a script jump.</p><p>The user&#39;s response is case insensitive. (The label <code>&quot;CAT&quot;</code> will match the user input of <code>cat</code>.)</p><div class="language-mgs" data-ext="mgs"><pre class="shiki dark-plus" style="background-color:#1E1E1E;" tabindex="0"><code><span class="line"><span style="color:#DCDCAA;">exampleScript</span><span style="color:#D4D4D4;"> {</span></span>
<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#569CD6;">show</span><span style="color:#D4D4D4;"> </span><span style="color:#9CDCFE;">serial dialog</span><span style="color:#D4D4D4;"> {</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#CE9178;">&quot;When you arrive at the Sphinx,&quot;</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#CE9178;">&quot;it speaks in a slow, monotone voice:&quot;</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#CE9178;">&quot;WHEN DO THE FLYING TOASTERS COME OUT?&quot;</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#C586C0;">_</span><span style="color:#D7BA7D;"> </span><span style="color:#CE9178;">&quot;after dark&quot;</span><span style="color:#D4D4D4;"> </span><span style="color:#C586C0;">:</span><span style="color:#D4D4D4;"> </span><span style="color:#C586C0;">goto </span><span style="color:#9CDCFE;">script </span><span style="color:#DCDCAA;">sphinxSuccess</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#C586C0;">_</span><span style="color:#D7BA7D;"> </span><span style="color:#CE9178;">&quot;before dark&quot;</span><span style="color:#D4D4D4;"> </span><span style="color:#C586C0;">:</span><span style="color:#D4D4D4;"> </span><span style="color:#C586C0;">goto </span><span style="color:#9CDCFE;">script </span><span style="color:#DCDCAA;">sphinxWTF</span></span>
<span class="line"><span style="color:#D4D4D4;">  }</span></span>
<span class="line"><span style="color:#D4D4D4;">}</span></span>
<span class="line"></span></code></pre><div class="highlight-lines"><br><br><br><br><br><div class="highlight-line"> </div><div class="highlight-line"> </div><br><br></div></div><p>The above example becomes:</p><div class="language-text" data-ext="text"><pre class="shiki dark-plus" style="background-color:#1E1E1E;" tabindex="0"><code><span class="line"><span style="color:#D4D4D4;">When you arrive at the Sphinx,</span></span>
<span class="line"><span style="color:#D4D4D4;">it speaks in a slow, monotone voice:</span></span>
<span class="line"><span style="color:#D4D4D4;">WHEN DO THE FLYING TOASTERS COME OUT?</span></span>
<span class="line"><span style="color:#D4D4D4;"></span></span>
<span class="line"><span style="color:#D4D4D4;">&gt;_</span></span>
<span class="line"><span style="color:#D4D4D4;"></span></span></code></pre></div><h2 id="serial-styles" tabindex="-1"><a class="header-anchor" href="#serial-styles" aria-hidden="true">#</a> Serial Styles</h2><p>A unique feature of <a href="../mgs/serial_dialogs_mgs">serial dialog</a> <a href="../mgs/serial_dialogs_mgs#serial-dialog-messages">messages</a> and <a href="../mgs/serial_dialogs_mgs#serial-dialog-options">serial options</a> is styling. Styles, implemented with ANSI escape codes, are turned on and off with tags enclosed in <code>&lt;</code> and <code>&gt;</code> (<a href="mgs_natlang">MGS Natlang</a> only — you&#39;ll have to lookup the escape codes yourself otherwise).</p><p>(Also note that <code>&lt;bell&gt;</code>, though not styling, is also available. This will ring the terminal bell.)</p><ul><li>Foreground colors (letter colors) <ul><li>Black: <code>&lt;k&gt;</code> or <code>&lt;black&gt;</code></li><li>Red: <code>&lt;r&gt;</code> or <code>&lt;red&gt;</code></li><li>Green: <code>&lt;g&gt;</code> or <code>&lt;green&gt;</code></li><li>Yellow: <code>&lt;y&gt;</code> or <code>&lt;yellow&gt;</code></li><li>Blue: <code>&lt;b&gt;</code> or <code>&lt;blue&gt;</code></li><li>Magenta: <code>&lt;m&gt;</code> or <code>&lt;magenta&gt;</code></li><li>Cyan: <code>&lt;c&gt;</code> or <code>&lt;cyan&gt;</code></li><li>White: <code>&lt;w&gt;</code> or <code>&lt;white&gt;</code></li></ul></li><li>Background colors <ul><li>Black: <code>&lt;bg-k&gt;</code> or <code>&lt;bg-black&gt;</code></li><li>Red: <code>&lt;bg-r&gt;</code> or <code>&lt;bg-red&gt;</code></li><li>Green: <code>&lt;bg-g&gt;</code> or <code>&lt;bg-green&gt;</code></li><li>Yellow: <code>&lt;bg-y&gt;</code> or <code>&lt;bg-yellow&gt;</code></li><li>Blue: <code>&lt;bg-b&gt;</code> or <code>&lt;bg-blue&gt;</code></li><li>Magenta: <code>&lt;bg-m&gt;</code> or <code>&lt;bg-magenta&gt;</code></li><li>Cyan: <code>&lt;bg-c&gt;</code> or <code>&lt;bg-cyan&gt;</code></li><li>White: <code>&lt;bg-w&gt;</code> or <code>&lt;bg-white&gt;</code></li></ul></li><li>Emphasis <ul><li>Bold: <code>&lt;bold&gt;</code> (brighter colors and/or greater font weight)</li><li>Dim: <code>&lt;dim&gt;</code></li></ul></li><li>Reset all styles: <code>&lt;/&gt;</code> or <code>&lt;reset&gt;</code><ul><li>Styles can only be turned off all at once, unfortunately.</li><li>Styles will stay &quot;on&quot; until you explicitly turn them &quot;off&quot;.</li></ul></li></ul><h2 id="example" tabindex="-1"><a class="header-anchor" href="#example" aria-hidden="true">#</a> Example</h2><div class="language-mgs" data-ext="mgs"><pre class="shiki dark-plus" style="background-color:#1E1E1E;" tabindex="0"><code><span class="line"><span style="color:#569CD6;">serial dialog</span><span style="color:#9CDCFE;"> grandpaRambling</span><span style="color:#D4D4D4;"> {</span></span>
<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#CE9178;">&quot;That doll is </span><span style="color:#808080;">&lt;</span><span style="color:#569CD6;">r</span><span style="color:#808080;">&gt;</span><span style="color:#CE9178;">evil</span><span style="color:#808080;">&lt;/&gt;</span><span style="color:#CE9178;">, I tells ya! </span><span style="color:#808080;">&lt;</span><span style="color:#569CD6;">r</span><span style="color:#808080;">&gt;&lt;</span><span style="color:#569CD6;">bold</span><span style="color:#808080;">&gt;</span><span style="color:#CE9178;">EVIL</span><span style="color:#808080;">&lt;/&gt;</span><span style="color:#CE9178;">!!&quot;</span></span>
<span class="line"><span style="color:#D4D4D4;">}</span></span>
<span class="line"></span></code></pre></div><blockquote><p>That doll is <span style="color:#b00;">evil</span>, I tells ya! <span style="color:#f33;font-weight:bold;">EVIL</span>!!</p></blockquote><p>You can also add styles one at a time, and they will accumulate:</p><div class="language-mgs" data-ext="mgs"><pre class="shiki dark-plus" style="background-color:#1E1E1E;" tabindex="0"><code><span class="line"><span style="color:#569CD6;">serial dialog</span><span style="color:#9CDCFE;"> accumulation</span><span style="color:#D4D4D4;"> {</span></span>
<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#CE9178;">&quot;plain text </span><span style="color:#808080;">&lt;</span><span style="color:#569CD6;">r</span><span style="color:#808080;">&gt;</span><span style="color:#CE9178;">red text </span><span style="color:#808080;">&lt;</span><span style="color:#569CD6;">bold</span><span style="color:#808080;">&gt;</span><span style="color:#CE9178;">add bold </span><span style="color:#808080;">&lt;</span><span style="color:#569CD6;">bg-b</span><span style="color:#808080;">&gt;</span><span style="color:#CE9178;">add blue background</span><span style="color:#808080;">&lt;/&gt;</span><span style="color:#CE9178;"> clear all&quot;</span></span>
<span class="line"><span style="color:#D4D4D4;">}</span></span>
<span class="line"></span></code></pre></div><blockquote><p>plain text <span style="color:#b00;">add red </span><span style="color:#f33;font-weight:bold;">add bold </span><span style="color:#f33;font-weight:bold;background-color:#00b;">add blue background</span> clear all</p></blockquote><p>The user&#39;s color theme affects how styles appear in their serial console, and not all styles are implemented in all themes (or consoles). We therefore recommend using styles for optional flavor only, and not to impart gameplay-critical information.</p><div class="custom-container tip"><p class="custom-container-title">Workaround</p><p>The web build of the game currently styles serial output one line at a time, and so styling may be dropped after a line break. As a workaround, manually insert your style tags again before the word that was wrapped.</p></div>`,46),t=[n];function p(r,i){return a(),l("div",null,t)}const d=s(o,[["render",p],["__file","serial_dialogs_mgs.html.vue"]]);export{d as default};
