import{_ as i,c as o,o as t,ah as l}from"./chunks/framework.l_r_SdPt.js";const g=JSON.parse('{"title":"Expressions and Operators","description":"","frontmatter":{},"headers":[],"relativePath":"expressions_and_operators.md","filePath":"expressions_and_operators.md"}'),a={name:"expressions_and_operators.md"};function n(r,e,s,d,c,p){return t(),o("div",null,[...e[0]||(e[0]=[l('<h1 id="expressions-and-operators" tabindex="-1">Expressions and Operators <a class="header-anchor" href="#expressions-and-operators" aria-label="Permalink to “Expressions and Operators”">​</a></h1><h2 id="expressions" tabindex="-1">Expressions <a class="header-anchor" href="#expressions" aria-label="Permalink to “Expressions”">​</a></h2><ul><li>Expressions are built up from operands, operators, and parenthetical groupings in the manner commonly done in modern languages, e.g.<code>(5 + variable_name) * 7</code>.</li><li>Expressions can stand in for a value of that type in almost all places.</li><li>Int and bool expressions cannot be combined. Examples: <ul><li><code>!(player x - 10)</code> is a syntax error.</li><li><code>var_name + false</code> will be parsed as <code>var_name + &quot;false&quot;</code>, where &quot;false&quot; is an int variable name).</li></ul></li><li>String literals and string references cannot be used in expressions apart from in bool comparisons.</li><li>Operands and operators themselves cannot be expanded in an <a href="./action_param_expansions.html">action param expansion</a>, but the expression as a whole often can.</li></ul><h2 id="assignment-operation" tabindex="-1">Assignment Operation <a class="header-anchor" href="#assignment-operation" aria-label="Permalink to “Assignment Operation”">​</a></h2><p>This is a binary expression that sets the left-hand side (LHS) to the value of the right-hand side (RHS).</p><p><strong>Syntax</strong>: <code>&lt;LHS&gt; = &lt;RHS&gt;;</code></p><ul><li>Action phrases using this pattern: <ul><li><a href="./actions.html#assign-int-value">Assign Int Value</a></li><li><a href="./actions.html#change-int-value">Change Int Value</a></li><li><a href="./actions.html#assign-bool-value">Assign Bool Value</a></li><li><a href="./actions.html#assign-string-value">Assign String Value</a></li><li><a href="./actions.html#assign-script-value">Assign Script Value</a></li></ul></li><li><a href="./actions.html#position-over-time">Position Over Time action phrases</a> are similar, but use a <code>-&gt;</code> instead of <code>=</code> to indicate that the action will take time to execute.</li></ul><h2 id="operands" tabindex="-1">Operands <a class="header-anchor" href="#operands" aria-label="Permalink to “Operands”">​</a></h2><h3 id="getables-vs-setables" tabindex="-1">Getables vs Setables <a class="header-anchor" href="#getables-vs-setables" aria-label="Permalink to “Getables vs Setables”">​</a></h3><p>You can set and get/check most operands with bytecode instructions. But some can only be checked, and some only set. This means some can only be on the LHS of an assignment operation, and some can only be in the expression on the RHS.</p><h2 id="int-expressions" tabindex="-1">Int Expressions <a class="header-anchor" href="#int-expressions" aria-label="Permalink to “Int Expressions”">​</a></h2><p>An int expression results in a number value. Note that a single int operand is a valid int expression.</p><ul><li><strong>Syntax</strong>: <ul><li><code>&lt;int operand&gt;</code></li><li><code>&lt;int binary expression&gt;</code></li><li><code>( &lt;int expression&gt; )</code></li></ul></li></ul><h3 id="int-binary-expression" tabindex="-1">Int Binary Expression <a class="header-anchor" href="#int-binary-expression" aria-label="Permalink to “Int Binary Expression”">​</a></h3><p>These behave as expected. Standard operator precedence (order of operations) is used.</p><ul><li><strong>Syntax</strong>: <code>&lt;int operand&gt; &lt;int binary operator&gt; &lt;int operand&gt;</code></li><li><strong>Int operand</strong>: see <a href="#int-operands-int-binary-operator-add-subtract-multiply-divide-modulo-int-operandsthese-are-int-getables-stateinteger-variables">Number literals</a></li><li><a href="./identifiers.html">Variable identifiers</a> (<a href="./state.html#integer-variables">integers</a>)</li><li><a href="./macros.html#copy-script">Copy Script</a> (return value)</li><li><a href="./fns.html#fn-call">Fn Call</a> (return value)</li><li><a href="./arrays.html#returns-a-value-int">Array method chain that returns a value</a></li><li><a href="./macros.html#rng">The RNG Macro</a></li><li><a href="./entities.html#entity-properties">Entity int properties</a>: <ul><li><code>&lt;entity identifier&gt; x</code></li><li><code>&lt;entity identifier&gt; y</code></li><li><code>&lt;entity identifier&gt; primary_id</code></li><li><code>&lt;entity identifier&gt; secondary_id</code></li><li><code>&lt;entity identifier&gt; primary_id_type</code></li><li><code>&lt;entity identifier&gt; current_animation</code></li><li><code>&lt;entity identifier&gt; animation_frame</code></li><li><strong>Entity identifier</strong>: see <a href="./identifiers.html#entity-identifier">Entity Identifier</a></li></ul></li><li>Another int expression</li></ul><p><strong>Bytecode actions</strong>:</p><ul><li><code>COPY_VARIABLE</code></li><li><code>CHECK_VARIABLE</code></li><li><code>CHECK_VARIABLES</code></li><li><code>COPY_SCRIPT</code></li><li><a href="./arrays.html#returns-a-value-int">Bytecode actions for array methods that return a value</a></li><li><code>CHECK_ENTITY_X</code></li><li><code>CHECK_ENTITY_Y</code></li><li><code>CHECK_ENTITY_PRIMARY_ID</code></li><li><code>CHECK_ENTITY_SECONDARY_ID</code></li><li><code>CHECK_ENTITY_PRIMARY_ID_TYPE</code></li><li><code>CHECK_ENTITY_CURRENT_ANIMATION</code></li><li><code>CHECK_ENTITY_CURRENT_FRAME</code></li></ul><h2 id="bool-expressions" tabindex="-1">Bool Expressions <a class="header-anchor" href="#bool-expressions" aria-label="Permalink to “Bool Expressions”">​</a></h2><p>A bool expression result in a bool value. A single bool operand is a valid bool expression.</p><ul><li><strong>Syntax</strong>: <ul><li><code>&lt;bool operand&gt;</code></li><li><code>&lt;bool unary expression&gt;</code></li><li><code>&lt;bool comparison&gt;</code></li><li><code>&lt;bool binary expression&gt;</code></li><li><code>( &lt;bool expression&gt; )</code></li></ul></li></ul><h3 id="bool-unary-expression" tabindex="-1">Bool Unary Expression <a class="header-anchor" href="#bool-unary-expression" aria-label="Permalink to “Bool Unary Expression”">​</a></h3><p>The only unary operator is <code>!</code>, which inverts the attached bool operand.</p><p><strong>Syntax</strong>: <code>!&lt;bool operand&gt;</code></p><ul><li><code>!&lt;bool exp&gt;</code> is equivalent to <code>&lt;bool exp&gt; != true</code> or <code>&lt;bool exp&gt; == false</code>.</li><li>These are evaluated before other operators. To invert a larger expression, group it in parens and invert the grouping.</li><li>For multi-word bool &quot;getables&quot; like <code>entity Bob glitched</code> you can put a <code>!</code> before the first word to invert the whole phrase. No need to wrap the phrase in parens.</li></ul><h3 id="bool-comparison" tabindex="-1">Bool Comparison <a class="header-anchor" href="#bool-comparison" aria-label="Permalink to “Bool Comparison”">​</a></h3><ul><li><strong>Syntax</strong>: <ul><li><code>&lt;int expression&gt; &lt;comparison operator&gt; &lt;int expression&gt;</code></li><li><code>&lt;bool expression&gt; &lt;equality operator&gt; &lt;bool expression&gt;</code></li><li><code>&lt;string checkable&gt; &lt;equality operator&gt; &lt;string literal&gt;</code></li><li><code>&lt;string literal&gt; &lt;equality operator&gt; &lt;string checkable&gt;</code></li><li><strong>Int expression</strong>: see <a href="./expressions_and_operators.html#int-expressions">Int Expression</a></li><li><strong>Bool expression</strong>: see <a href="./expressions_and_operators.html#bool-expressions">Bool Expressions</a></li><li><strong>String checkable</strong>: see <a href="#string-checkables-string-literal-see-primitive-typesstring">String</a></li><li><strong>Comparison operator</strong>: <ul><li>Less than: <code>&lt;</code></li><li>Less than or equal to: <code>&lt;=</code></li><li>Greater than: <code>&gt;</code></li><li>Greater than or equal to: <code>&gt;=</code></li><li>Also, all equality operators</li></ul></li><li><strong>Equality operator</strong>: <ul><li>Equal to: <code>==</code></li><li>Not equal to: <code>!=</code></li></ul></li></ul></li></ul><h3 id="bool-binary-expression" tabindex="-1">Bool Binary Expression <a class="header-anchor" href="#bool-binary-expression" aria-label="Permalink to “Bool Binary Expression”">​</a></h3><ul><li><strong>Syntax</strong>: <ul><li><code>&lt;bool expression&gt; &lt;bool binary operator&gt; &lt;bool expression&gt;</code></li><li><strong>Bool binary operator</strong>: <ul><li>Boolean OR: <code>||</code></li><li>Boolean AND: <code>&amp;&amp;</code></li></ul></li></ul></li></ul><h3 id="bool-operands" tabindex="-1">Bool Operands <a class="header-anchor" href="#bool-operands" aria-label="Permalink to “Bool Operands”">​</a></h3><ul><li><a href="./primitive_types.html#boolean">Boolean literals</a> e.g. <code>true</code>, <code>false</code></li><li><a href="./identifiers.html">Variable identifiers</a> (<a href="./state.html#save-flags">flags</a>)</li><li><a href="./state.html#engine-flags">Checkable engine flags</a> e.g. <code>debug_mode</code></li><li>Entity bool properties / status: <ul><li><code>&lt;entity identifier&gt; glitched</code></li><li><code>&lt;entity identifier&gt; intersects &lt;geometry identifier&gt;</code></li><li><strong>Entity identifier</strong>: see <a href="./identifiers.html#entity-identifier">Entity Identifier</a></li></ul></li><li>Button status: <ul><li><code>button &lt;button name&gt; down</code> or <code>up</code> (the button&#39;s current state)</li><li><code>button &lt;button name&gt; pressed</code> (whether the button recently changed from up to down)</li><li>NOTE: The button states are reset when a new map is loaded. If listening for a button press in the new map, this action may very will trigger immediately, even if the button was held down through the map load.</li></ul></li></ul><p><strong>Bytecode actions</strong>:</p><ul><li><code>CHECK_SAVE_FLAG</code></li><li><code>CHECK_DEBUG_MODE</code></li><li><code>CHECK_DIALOG_OPEN</code></li><li><code>CHECK_SERIAL_DIALOG_OPEN</code></li><li><code>CHECK_ENTITY_GLITCHED</code></li><li><code>CHECK_IF_ENTITY_IS_IN_GEOMETRY</code></li><li><code>CHECK_FOR_BUTTON_PRESS</code></li><li><code>CHECK_FOR_BUTTON_STATE</code></li></ul><h3 id="button-names" tabindex="-1">Button Names <a class="header-anchor" href="#button-names" aria-label="Permalink to “Button Names”">​</a></h3><div class="warning custom-block"><p class="custom-block-title">INFO</p><p>We found that the joystick clicks were aggressive on the hardware, and would trigger at what felt like arbitrary times. While the engine is capable of detecting these clicks, we recommend not using them.</p></div><ul><li><code>MEM0</code></li><li><code>MEM1</code></li><li><code>MEM2</code></li><li><code>MEM3</code></li><li><code>BIT128</code></li><li><code>BIT64</code></li><li><code>BIT32</code></li><li><code>BIT16</code></li><li><code>BIT8</code></li><li><code>BIT4</code></li><li><code>BIT2</code></li><li><code>BIT1</code></li><li><code>XOR</code></li><li><code>ADD</code></li><li><code>SUB</code></li><li><code>PAGE</code></li><li><code>LJOY_CENTER</code></li><li><code>LJOY_UP</code></li><li><code>LJOY_DOWN</code></li><li><code>LJOY_LEFT</code></li><li><code>LJOY_RIGHT</code></li><li><code>RJOY_CENTER</code></li><li><code>RJOY_UP</code></li><li><code>RJOY_DOWN</code></li><li><code>RJOY_LEFT</code></li><li><code>RJOY_RIGHT</code></li><li><code>TRIANGLE</code></li><li><code>X</code> or <code>CROSS</code></li><li><code>O</code> or <code>CIRCLE</code></li><li><code>SQUARE</code></li><li><code>HAX</code> (capacitive touch button on the PCB)</li><li><code>ANY</code></li></ul><h3 id="string-checkables" tabindex="-1">String Checkables <a class="header-anchor" href="#string-checkables" aria-label="Permalink to “String Checkables”">​</a></h3><p>These are string operands that can be &quot;checked,&quot; or used in a <a href="./expressions_and_operators.html#bool-expressions">boolean expression</a>. For string operands that can be set, see <a href="./actions.html#assign-string-value">Assign String Value</a>.</p><ul><li>The <a href="./state.html#warp-state-string">Warp State String</a> (<code>warp_state</code>)</li><li>Entity string properties: <ul><li><code>&lt;entity identifier&gt; name</code></li><li><code>&lt;entity identifier&gt; type</code></li><li><code>&lt;entity identifier&gt; path</code></li><li><code>&lt;entity identifier&gt; on_interact</code></li><li><code>&lt;entity identifier&gt; on_tick</code></li><li><code>&lt;entity identifier&gt; on_look</code></li><li><code>&lt;entity identifier&gt; direction</code></li><li><strong>Entity identifier</strong>: see <a href="./identifiers.html#entity-identifier">Entity Identifier</a></li></ul></li></ul><p><strong>IMPORTANT</strong>: Strings do not exist (except by reference) in the final game binary!</p><ul><li>There are no string operations apart from <a href="./actions.html#assign-string-value">|assignment</a> (e.g. <code>player name = &quot;Bob&quot;</code>) and as part of <a href="#bool-comparison">boolean comparisons</a> (e.g. <code>player name != &quot;Bob&quot;</code>).</li><li>No string concatenation or slicing</li><li>String references can only be compared to string literals, not a second string reference (e.g. <code>player name == self name</code> is invalid)</li></ul><p><strong>Bytecode actions</strong>:</p><ul><li><code>CHECK_WARP_STATE</code></li><li><code>CHECK_ENTITY_NAME</code></li><li><code>CHECK_ENTITY_TYPE</code></li><li><code>CHECK_ENTITY_PATH</code></li><li><code>CHECK_ENTITY_INTERACT_SCRIPT</code></li><li><code>CHECK_ENTITY_TICK_SCRIPT</code></li><li><code>CHECK_ENTITY_LOOK_SCRIPT</code></li><li><code>CHECK_ENTITY_DIRECTION</code></li></ul>',43)])])}const u=i(a,[["render",n]]);export{g as __pageData,u as default};
