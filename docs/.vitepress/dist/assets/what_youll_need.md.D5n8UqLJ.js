import{_ as e,c as s,o as a,ah as t,au as n,av as l,aw as o,ax as h}from"./chunks/framework.l_r_SdPt.js";const y=JSON.parse(`{"title":"What You'll Need","description":"","frontmatter":{},"headers":[],"relativePath":"what_youll_need.md","filePath":"what_youll_need.md"}`),r={name:"what_youll_need.md"};function p(d,i,k,c,u,g){return a(),s("div",null,[...i[0]||(i[0]=[t(`<h1 id="what-you-ll-need" tabindex="-1">What You&#39;ll Need <a class="header-anchor" href="#what-you-ll-need" aria-label="Permalink to “What You&#39;ll Need”">​</a></h1><p>The MGE is data driven, meaning you won&#39;t need special hardware or a compiler to generate game content for your Black Mage Badge. All you&#39;ll need are:</p><h2 id="software" tabindex="-1">Software <a class="header-anchor" href="#software" aria-label="Permalink to “Software”">​</a></h2><h3 id="text-editor" tabindex="-1">Text Editor <a class="header-anchor" href="#text-editor" aria-label="Permalink to “Text Editor”">​</a></h3><p>You will need a text editor. (NOTE: a word processor like Apple&#39;s Pages or Microsoft Word will not suffice!)</p><p>What will work best is an IDE with project management features like syntax parsing and Git integration. Our recommendation, especially for beginners, is <a href="https://code.visualstudio.com/" target="_blank" rel="noreferrer">Visual Studio Code</a> (Mac, Linux, or Windows), which is free and open source. Importantly, we have prepared a VSCode Marketplace plugin for MGS syntax highlighting, which will make it much easier to work with MGS game script files.</p><p><code>.mgs</code> syntax highlighting can be manually added to a handful of other text editors, too. (See <a href="#syntax-colors">syntax colors</a> for up-to-date details and instructions.) The following can manage decent support as of August 2024:</p><ul><li><a href="https://sublimetext.com" target="_blank" rel="noreferrer">Sublime Text</a></li><li><a href="https://www.jetbrains.com/" target="_blank" rel="noreferrer">JetBrains&#39; IDEs</a> (excellent IDE but not inexpensive)</li><li><a href="https://macromates.com" target="_blank" rel="noreferrer">TextMate</a> (Mac only)</li></ul><h3 id="graphics-editor" tabindex="-1">Graphics Editor <a class="header-anchor" href="#graphics-editor" aria-label="Permalink to “Graphics Editor”">​</a></h3><p>Any graphics program capable of pixel art can be used to make sprite sheets or <a href="./tilesets.html">tilesets</a>. But if you need custom <a href="./animations.html">animation</a>, we recommend investing in <a href="https://www.aseprite.org/" target="_blank" rel="noreferrer">Aseprite</a>, which is about $20. It specializes in sprite animations, and it makes previewing animations and exporting sprite sheets quite painless.</p><p>If you don&#39;t want to make art from scratch, a good source of premade tilesets is <a href="https://OpenGameArt.org" target="_blank" rel="noreferrer">OpenGameArt.org</a>.</p><h3 id="tiled" tabindex="-1">Tiled <a class="header-anchor" href="#tiled" aria-label="Permalink to “Tiled”">​</a></h3><p>Tiled, which can be found at <a href="https://www.mapeditor.org" target="_blank" rel="noreferrer">mapeditor.org</a>, is a free, cross-platform map and <a href="./tilesets.html">tileset</a> editor that can export and edit JSON files. This how the bulk of <a href="./maps.html">maps</a>, <a href="./tilesets.html">tilesets</a>, <a href="./entities.html">entities</a> <a href="./animations.html">animations</a>, <a href="./tilesets.html#tile-collisions">tile collisions</a>, and <a href="./vector_objects.html">geometry</a> for choreography are defined.</p><div class="warning custom-block"><p class="custom-block-title">Use Tiled 1.9.2!</p><p>Newer versions of Tiled use a slightly different file structure that is not compatible with the current <a href="./encoder.html">encoder</a>! Please make sure to download version 1.9.2 specifically. Get it from their <a href="https://github.com/mapeditor/tiled/releases/tag/v1.9.2" target="_blank" rel="noreferrer">Github releases</a>.</p></div><h3 id="git" tabindex="-1">Git <a class="header-anchor" href="#git" aria-label="Permalink to “Git”">​</a></h3><p><s>While strictly optional, it&#39;s always nice to version control your projects,</s> If you are not using Git to version control your projects, you bring dishonor and suffering on your house, especially if working with multiple people. We recommend <a href="https://www.sublimemerge.com/" target="_blank" rel="noreferrer">Sublime Merge</a> if you&#39;re just getting started with Git, particularly if you&#39;re using VSCode, as VSCode&#39;s version control interface is limited. If you&#39;re already using one of <a href="https://www.jetbrains.com/" target="_blank" rel="noreferrer">JetBrains&#39; IDEs</a>, you can use their excellent built-in Git tools.</p><h3 id="web-browser" tabindex="-1">Web Browser <a class="header-anchor" href="#web-browser" aria-label="Permalink to “Web Browser”">​</a></h3><p>The <a href="./encoder.html#web-encoder">web encoder</a> can be run with Node.js (see below) or in a web browser. They will both take the game files from your <code>scenario_source_files/</code> folder and export a <code>game.dat</code> for the Mage Game Engine to use.</p><p>The web version of the encoder, however, also has an <a href="./entity_management_system.html">entity management system</a> for managing animation assignments, so while you might use the Node encoder most of the time, chances are you&#39;ll still want to use the web version regularly.</p><p>You will likely also want to use the <a href="#web-build">web build</a> of the MGE to test your game data, as this is much simpler than setting up a Linux environment to run the game natively and much faster than using a microSD card to test the <code>game.dat</code> on the real badge after every revision.</p><h3 id="node-js-optional" tabindex="-1">Node.js (optional) <a class="header-anchor" href="#node-js-optional" aria-label="Permalink to “Node.js (optional)”">​</a></h3><p>If you find yourself constantly making small changes to your content and regenerating your <code>game.dat</code> very frequently, it may be worthwhile to install <a href="https://nodejs.org" target="_blank" rel="noreferrer">Node.js</a> so you can use the <a href="./encoder.html#cli-encoder">CLI version of the encoder</a> instead.</p><p>We recommend using Node&#39;s long-term support (i.e. even numbered) versions.</p><h2 id="files" tabindex="-1">Files <a class="header-anchor" href="#files" aria-label="Permalink to “Files”">​</a></h2><p>Content creation will involve creating, modifying, and using files within <code>SD_Card/MAGE/</code>.</p><p>This structure was intended to facilitate distribution of <code>game.dat</code> files and game source code via SD cards.</p><h3 id="mage" tabindex="-1"><code>MAGE/</code> <a class="header-anchor" href="#mage" aria-label="Permalink to “MAGE/”">​</a></h3><ul><li><code>editor/index.html</code><ul><li>The <a href="./encoder.html#web-encoder">web encoder</a>. Open this file in a web browser to use it.</li></ul></li><li><code>game.dat</code><ul><li>Encoded game data.</li><li>Your <code>game.dat</code> must be here for the <a href="#desktop-build">desktop build</a> to see it. <ul><li>The <a href="./encoder.html#cli-encoder">CLI encoder</a> will update the <code>game.dat</code> in place.</li></ul></li></ul></li><li><code>replace_dat_file_with_downloaded.sh</code><ul><li>Grabs the latest <code>game.dat</code> from your Downloads folder and moves it to your current directory.</li></ul></li><li><code>regenerate_dat_file.sh</code><ul><li>The <a href="./encoder.html#cli-encoder">CLI encoder</a>. There are two versions depending on which repo you started with; the version from the <a href="./mge_vm.html">MGE VM </a>is slightly different. Requires node.js.</li></ul></li><li><code>mage_dat.ksy</code><ul><li>For debugging your <code>game.dat</code> with <a href="./encoder.html#kaitai">Kaitai</a>.</li></ul></li><li><code>scenario_source_files/</code><ul><li>See below.</li></ul></li></ul><h3 id="scenario-source-files" tabindex="-1"><code>scenario_source_files/</code> <a class="header-anchor" href="#scenario-source-files" aria-label="Permalink to “scenario_source_files/”">​</a></h3><div class="warning custom-block"><p class="custom-block-title">Use the right <code>scenario_source_files/</code>!</p><p>Unit tests include a broad comparison test that checks a copy of the old JSON output against a suite of the old MGS files but with modern syntax. This means there is a second <code>scenario_source_files/</code> folder which is not to be updated with new game content. (Changes to syntax is encouraged for experimentation so long as the script names and such are maintained.) This arrangement helps determine whether new grammar changes break anything that existed as of ch2.</p><p>When making changes files in either <code>scenario_source_files/</code> folder, make sure you&#39;ve got the right one!</p></div><p>JSON file names should be prefixed with the type of MGE data they contain, even when they&#39;re placed inside the corresponding folder. This will make them easier to debug.</p><p>Make sure all Tiled files are in the correct place before working on them or references to them will break when you move them.</p><p>Folders:</p><ul><li><code>entities/</code><ul><li>Tiled <a href="./tilesets.html">tilesets</a> (JSON) and <a href="./tilesets.html#spritesheets">spritesheets</a> (PNG/GIF)</li><li>For <a href="./entities.html">entity</a> assets like entity tilesets and portrait tilesets</li></ul></li><li><code>maps/</code><ul><li>Tiled <a href="./maps.html">maps</a> (JSON)</li><li>Map data (not including tilesets)</li></ul></li><li><code>mgs/</code><ul><li>MageGameScript files (MGS)</li><li>These files need not be anywhere specific, but they&#39;re best kept together if nothing else.</li></ul></li><li><code>tilesets/</code><ul><li>Tiled <a href="./tilesets.html">tilesets</a> (JSON) and <a href="./tilesets.html#spritesheets">spritesheets</a> (PNG/GIF)</li><li>For non-entity assets, such as graphics for maps, dialog borders, etc.</li></ul></li><li><code>scenario.json</code><ul><li>See <a href="#scenario-json"><code>scenario.json</code></a></li><li>See <a href="#entity-types-json"><code>entity_types.json</code></a></li><li>See <a href="#maps-json"><code>maps.json</code></a></li><li>See <a href="#portraits-json"><code>portraits.json</code></a></li></ul></li></ul><h4 id="scenario-json" tabindex="-1"><code>scenario.json</code> <a class="header-anchor" href="#scenario-json" aria-label="Permalink to “scenario.json”">​</a></h4><p>This file tells the encoder which JSON files to include for various purposes. After the &quot;mathlang&quot; revision of MageGameScript, it is no longer necessary to keep JSON files for dialogs, serial dialogs, or scripts. Therefore, there is only on thing left needed in here: <code>dialogSkins</code>.</p><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes dark-plus light-plus" style="--shiki-dark:#D4D4D4;--shiki-light:#000000;--shiki-dark-bg:#1E1E1E;--shiki-light-bg:#FFFFFF;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">{</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#0451A5;">  &quot;scriptPaths&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">: [],</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#0451A5;">  &quot;dialogPaths&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">: [],</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#0451A5;">  &quot;serialDialogPaths&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">: [],</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#0451A5;">  &quot;dialogSkins&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">: {</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#0451A5;">    &quot;default&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">: </span><span style="--shiki-dark:#CE9178;--shiki-light:#A31515;">&quot;tilesets/tileset-dialog_moon.json&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">,</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#0451A5;">    &quot;codec&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">: </span><span style="--shiki-dark:#CE9178;--shiki-light:#A31515;">&quot;tilesets/tileset-dialog_codec.json&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">,</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#0451A5;">    &quot;menu&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">: </span><span style="--shiki-dark:#CE9178;--shiki-light:#A31515;">&quot;tilesets/tileset-dialog_transparent_menu.json&quot;</span></span>
<span class="line"><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">  }</span></span>
<span class="line"><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">}</span></span></code></pre></div><p><code>dialogSkins</code> is a list (JS object) of dialog skin names mapped to the file path of their tileset JSON file. The &quot;name&quot; is what you&#39;ll use to target that dialog skin. A <code>dialogSkin</code> called <code>default</code> is mandatory.</p><h4 id="entity-types-json" tabindex="-1"><code>entity_types.json</code> <a class="header-anchor" href="#entity-types-json" aria-label="Permalink to “entity_types.json”">​</a></h4><p>Identifies <a href="./entity_types.html#character-entity">character entities</a> and assigns them various properties, such as:</p><ul><li><code>tileset</code>: their tileset JSON file path</li><li><code>portrait</code>: the name of their portrait image, if not the same as their <code>entity_type</code> name (optional)</li><li><code>animations</code>: their <a href="./entity_management_system.html#assigning-animations">animation assignments</a> (idle, walk, action, etc. — and north, south, west, east)</li></ul><p>As an example (keeping in mind that the animation arrays have been closed so the overall structure is more clear):</p><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes dark-plus light-plus" style="--shiki-dark:#D4D4D4;--shiki-light:#000000;--shiki-dark-bg:#1E1E1E;--shiki-light-bg:#FFFFFF;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">{</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#0451A5;">  &quot;mage&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">: {</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#0451A5;">    &quot;tileset&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">: </span><span style="--shiki-dark:#CE9178;--shiki-light:#A31515;">&quot;entity-mage.json&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">,</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#0451A5;">    &quot;animations&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">: {</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#0451A5;">      &quot;idle&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">: [],</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#0451A5;">      &quot;walk&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">: [],</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#0451A5;">      &quot;action&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">: []</span></span>
<span class="line"><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">    }</span></span>
<span class="line"><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">  },</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#0451A5;">  &quot;bender_sadbutt&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">: {</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#0451A5;">    &quot;tileset&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">: </span><span style="--shiki-dark:#CE9178;--shiki-light:#A31515;">&quot;entity-bender_sadbutt.json&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">,</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#0451A5;">    &quot;portrait&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">: </span><span style="--shiki-dark:#CE9178;--shiki-light:#A31515;">&quot;bender&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">,</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#0451A5;">    &quot;animations&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">: {</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#0451A5;">      &quot;idle&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">: [],</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#0451A5;">      &quot;walk&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">: [],</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#0451A5;">      &quot;action&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">: [],</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#0451A5;">      &quot;bite&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">: []</span></span>
<span class="line"><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">    }</span></span>
<span class="line"><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">  }</span></span>
<span class="line"><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">}</span></span></code></pre></div><p>Animations are much easier to do using the <a href="./encoder.html#web-encoder">web encoder</a>&#39;s <a href="./entity_management_system.html">entity management system</a>, but if you want to make changes to an entity&#39;s animations by hand, the structure is as follows:</p><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes dark-plus light-plus" style="--shiki-dark:#D4D4D4;--shiki-light:#000000;--shiki-dark-bg:#1E1E1E;--shiki-light-bg:#FFFFFF;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-dark:#CE9178;--shiki-light:#A31515;">&quot;idle&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">: [</span></span>
<span class="line"><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">  { </span><span style="--shiki-dark:#9CDCFE;--shiki-light:#0451A5;">&quot;tileid&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">: </span><span style="--shiki-dark:#B5CEA8;--shiki-light:#098658;">18</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">, </span><span style="--shiki-dark:#9CDCFE;--shiki-light:#0451A5;">&quot;flip_x&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">: </span><span style="--shiki-dark:#569CD6;--shiki-light:#0000FF;">false</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;"> },</span></span>
<span class="line"><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">  { </span><span style="--shiki-dark:#9CDCFE;--shiki-light:#0451A5;">&quot;tileid&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">: </span><span style="--shiki-dark:#B5CEA8;--shiki-light:#098658;">16</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">, </span><span style="--shiki-dark:#9CDCFE;--shiki-light:#0451A5;">&quot;flip_x&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">: </span><span style="--shiki-dark:#569CD6;--shiki-light:#0000FF;">true</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;"> },</span></span>
<span class="line"><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">  { </span><span style="--shiki-dark:#9CDCFE;--shiki-light:#0451A5;">&quot;tileid&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">: </span><span style="--shiki-dark:#B5CEA8;--shiki-light:#098658;">17</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">, </span><span style="--shiki-dark:#9CDCFE;--shiki-light:#0451A5;">&quot;flip_x&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">: </span><span style="--shiki-dark:#569CD6;--shiki-light:#0000FF;">false</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;"> },</span></span>
<span class="line"><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">  { </span><span style="--shiki-dark:#9CDCFE;--shiki-light:#0451A5;">&quot;tileid&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">: </span><span style="--shiki-dark:#B5CEA8;--shiki-light:#098658;">16</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">, </span><span style="--shiki-dark:#9CDCFE;--shiki-light:#0451A5;">&quot;flip_x&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">: </span><span style="--shiki-dark:#569CD6;--shiki-light:#0000FF;">false</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;"> }</span></span>
<span class="line"><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">]</span></span></code></pre></div><p>When animations are created within Tiled, they are assigned to a tile on the tileset. So for the above definitions, <code>tileid</code> refers to which tile the animation has been assigned to.</p><p>To find the <code>tileid</code>, count left-to-right and top-to-down, but remember to count starting from 0 instead of 1. Alternatively, you can select the correct tile in Tiled and see the tile ID that way.</p><p><code>flip_x</code> will flip the sprites horizontally (and <code>flip_y</code> will flip vertically), but will otherwise make no changes to the animation on that tile.</p><p>The order of the object literals in the animation is fixed:</p><ul><li>North</li><li>East</li><li>South</li><li>West</li></ul><p>Each character entity should at least have an idle, walk, and action animation. (See: <a href="./animations.html">Animations</a>)</p><h3 id="maps-json" tabindex="-1"><code>maps.json</code> <a class="header-anchor" href="#maps-json" aria-label="Permalink to “maps.json”">​</a></h3><p><a href="./maps.html#map-properties">Map properties</a> defined in a map&#39;s Tiled JSON file (as was done in chapter 1) are still honored (for now!), but it&#39;s recommended to move such properties to this file for easier access.</p><p>The first map given is the map run when the game is opened.</p><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes dark-plus light-plus" style="--shiki-dark:#D4D4D4;--shiki-light:#000000;--shiki-dark-bg:#1E1E1E;--shiki-light-bg:#FFFFFF;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">{</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#0451A5;">  &quot;sample1&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">: {</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#0451A5;">    &quot;path&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">: </span><span style="--shiki-dark:#CE9178;--shiki-light:#A31515;">&quot;maps/map-sample1.json&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">,</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#0451A5;">    &quot;on_load&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">: </span><span style="--shiki-dark:#CE9178;--shiki-light:#A31515;">&quot;on_load-sample&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">,</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#0451A5;">    &quot;on_look&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">: </span><span style="--shiki-dark:#CE9178;--shiki-light:#A31515;">&quot;on_look-sample&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">,</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#0451A5;">    &quot;on_tick&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">: </span><span style="--shiki-dark:#CE9178;--shiki-light:#A31515;">&quot;on_tick-sample&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">,</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#0451A5;">    &quot;directions&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">: {</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#0451A5;">      &quot;north&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">: </span><span style="--shiki-dark:#CE9178;--shiki-light:#A31515;">&quot;on_go-sample-map&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">,</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#0451A5;">      &quot;south&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">: </span><span style="--shiki-dark:#CE9178;--shiki-light:#A31515;">&quot;on_go-sample-map&quot;</span></span>
<span class="line"><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">    }</span></span>
<span class="line"><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">  },</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#0451A5;">  &quot;sample2&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">: {</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#0451A5;">    &quot;path&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">: </span><span style="--shiki-dark:#CE9178;--shiki-light:#A31515;">&quot;maps/map-sample2.json&quot;</span></span>
<span class="line"><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">  }</span></span>
<span class="line"><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">}</span></span></code></pre></div><h4 id="portraits-json" tabindex="-1"><code>portraits.json</code> <a class="header-anchor" href="#portraits-json" aria-label="Permalink to “portraits.json”">​</a></h4><p>This file contains data for portraits, which reference tileset JSON files from the <code>entities/</code> folder. Portrait names should match associated <a href="./entity_types.html#character-entity">entity_type</a> names, if any.</p><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes dark-plus light-plus" style="--shiki-dark:#D4D4D4;--shiki-light:#000000;--shiki-dark-bg:#1E1E1E;--shiki-light-bg:#FFFFFF;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">{</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#0451A5;">  &quot;baker&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">: {</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#0451A5;">    &quot;tileset&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">: </span><span style="--shiki-dark:#CE9178;--shiki-light:#A31515;">&quot;portraits-people.json&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">,</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#0451A5;">    &quot;emotes&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">: {</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#0451A5;">      &quot;default&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">: {</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#0451A5;">        &quot;tileid&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">: </span><span style="--shiki-dark:#B5CEA8;--shiki-light:#098658;">15</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">,</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#0451A5;">        &quot;flip_x&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">: </span><span style="--shiki-dark:#569CD6;--shiki-light:#0000FF;">true</span></span>
<span class="line"><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">      }</span></span>
<span class="line"><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">    }</span></span>
<span class="line"><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">  },</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#0451A5;">  &quot;bender&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">: {</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#0451A5;">    &quot;tileset&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">: </span><span style="--shiki-dark:#CE9178;--shiki-light:#A31515;">&quot;portraits-people.json&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">,</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#0451A5;">    &quot;emotes&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">: {</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#0451A5;">      &quot;default&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">: {</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#0451A5;">        &quot;tileid&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">: </span><span style="--shiki-dark:#B5CEA8;--shiki-light:#098658;">21</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">,</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#0451A5;">        &quot;flip_x&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">: </span><span style="--shiki-dark:#569CD6;--shiki-light:#0000FF;">true</span></span>
<span class="line"><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">      },</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#0451A5;">      &quot;laugh&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">: {</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#0451A5;">        &quot;tileid&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">: </span><span style="--shiki-dark:#B5CEA8;--shiki-light:#098658;">22</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">,</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#0451A5;">        &quot;flip_x&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">: </span><span style="--shiki-dark:#569CD6;--shiki-light:#0000FF;">true</span></span>
<span class="line"><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">      }</span></span>
<span class="line"><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">    }</span></span>
<span class="line"><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">  }</span></span>
<span class="line"><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">}</span></span></code></pre></div><p><code>tileset</code> is the file path for the <a href="./tilesets.html">tileset JSON file</a> with the portrait image.</p><p><code>tileid</code> is how you define which tile in the tileset you want to use. You can simply count the tiles in the tileset left-to-right and top-to-down, beginning from <code>0</code>, but it might be easier to select the appropriate tile within Tiled and see what it says the &quot;ID&quot; is.</p><p>Game portraits are determined to be in their default position when alignment is <code>BOTTOM_LEFT</code> (or <code>TOP_LEFT</code>). For normal RPG-style contexts, you&#39;ll want your entities facing the center of the screen, which means your graphics should face the right in the tileset file. (These graphics are flipped automatically when used in the <code>BOTTOM_RIGHT</code> or <code>TOP_RIGHT</code> position.) If the portraits in your tileset image aren&#39;t facing the right, you should set <code>flip_x</code> to <code>true</code>.</p><p>You should at least have a <code>default</code> emote, but you can define any others as you like. Emotes are currently identified by their index / <code>id</code>.</p><p>The Mage Game Engine supports animated emotes. To animate an emote, create an animation for that tile the same way you would <a href="./animations.html">make an entity animation</a>(animations).</p><h2 id="to-run-the-game" tabindex="-1">To Run the Game <a class="header-anchor" href="#to-run-the-game" aria-label="Permalink to “To Run the Game”">​</a></h2><h3 id="microsd-card-optional" tabindex="-1">MicroSD Card (optional) <a class="header-anchor" href="#microsd-card-optional" aria-label="Permalink to “MicroSD Card (optional)”">​</a></h3><p>To put a new <code>game.dat</code> onto the badge, you&#39;ll need a microSD card formatted to FAT32. (This is only necessary if you&#39;re using the real badge hardware; the <a href="#web-build">web build</a> is sufficient for most cases.)</p><h3 id="desktop-build" tabindex="-1">Desktop Build <a class="header-anchor" href="#desktop-build" aria-label="Permalink to “Desktop Build”">​</a></h3><p>The tools listed above can be run in any environment, but at the moment (October 2025), you need Linux to run the game natively on your computer.</p><p>A virtual machine will be sufficient for this. For your convenience, we have prepared a <a href="./mge_vm.html">VM image</a> with project files and tooling in place for you to start a new MGE project, but know that you will likely need to update everything, as the VM was prepared for the chapter 1 engine.</p><h3 id="web-build" tabindex="-1">Web Build <a class="header-anchor" href="#web-build" aria-label="Permalink to “Web Build”">​</a></h3><p>The web build of the Mage Game Engine (MGE) allows you to drag and drop a <code>game.dat</code> into your browser window to play test (or play!) any MGE scenario.</p><p>As of October 2025, the latest build for the chapter 2 engine is available here: <a href="https://dc801.github.io/BM-Badge/" target="_blank" rel="noreferrer">https://dc801.github.io/BM-Badge/</a>.</p><p>Save game data persists per <code>game.dat</code> file.</p><h2 id="syntax-colors" tabindex="-1">Syntax Colors <a class="header-anchor" href="#syntax-colors" aria-label="Permalink to “Syntax Colors”">​</a></h2><p>A syntax coloring grammar (tmLanguage) for MageGameScript is in development here: <a href="https://github.com/alamedyang/magegamescript-syntax-highlighting" target="_blank" rel="noreferrer">github.com/alamedyang/magegamescript-syntax-highlighting</a>. This makes coding MGS much, much easier.</p><p>It has been tested against dozens of themes and is fairly robust. The chosen color scopes mimic real programming languages, so if you are familiar with the colors in your theme, it should feel comfortable.</p><p>Syntax colors in this documentation were made possible by <a href="https://v2.vuepress.vuejs.org/reference/plugin/shiki.html" target="_blank" rel="noreferrer">shiki</a>, a TextMate grammar plugin built into Vitepress.</p><h3 id="visual-studio-code" tabindex="-1">Visual Studio Code <a class="header-anchor" href="#visual-studio-code" aria-label="Permalink to “Visual Studio Code”">​</a></h3><p><img src="`+n+'" alt="VSCode with syntax colors"></p><p>When you open an MGS file, VSCode might offer a <a href="https://marketplace.visualstudio.com/items?itemName=goat-and-bird.magegamescript-colors" target="_blank" rel="noreferrer">marketplace extension</a> for it. If not, search for &quot;MageGameScript Colors&quot; in the Visual Studio Code extensions marketplace.</p><p><img src="'+l+'" alt="VSCode plugin for MageGameScriptColors"></p><p>If you are using VSCodium or want to avoid the extensions marketplace, you may download the vsix file itself <a href="https://github.com/alamedyang/magegamescript-syntax-highlighting/releases" target="_blank" rel="noreferrer">here</a> and install it manually, though you will have to check for updates yourself.</p><p>After installing the extension, all MGS files will have syntax coloring.</p><h3 id="textmate" tabindex="-1">TextMate <a class="header-anchor" href="#textmate" aria-label="Permalink to “TextMate”">​</a></h3><p><img src="'+o+'" alt="TextMate with syntax colors"></p><p>A <code>tmbundle</code> version of the above grammar has been quickly prepared (as of mid 2025), but may not have feature parity, is not automatically generated, and it is not bundled with the repo yet. Ask the DC801 badge game devs if you want a preview copy to try.</p><h3 id="sublime-text" tabindex="-1">Sublime Text <a class="header-anchor" href="#sublime-text" aria-label="Permalink to “Sublime Text”">​</a></h3><p><img src="'+h+'" alt="Sublime Text with syntax colors"></p><p>Sublime Text has its own highlighting grammar syntax, but still supports TextMate grammars.</p><p>Acquire the <code>tmbundle</code> file and put it into Sublime Text&#39;s <code>Packages</code> folder in your user settings. After this, you can select MageGameScript under View &gt; Syntax to style the text in your MGS files.</p><p>You will have to update the <code>mgs.tmBundle</code> manually by repeating the above process when a new version is released.</p><h3 id="intellij" tabindex="-1">IntelliJ <a class="header-anchor" href="#intellij" aria-label="Permalink to “IntelliJ”">​</a></h3><p>IntelliJ has a plugin, available by default, to install TextMate bundles. Acquire the <code>tmbundle</code> as explained above, and follow IntelliJ&#39;s documentation to install it.</p><h3 id="other-ides" tabindex="-1">Other IDEs <a class="header-anchor" href="#other-ides" aria-label="Permalink to “Other IDEs”">​</a></h3><p>Many other IDEs will accept TextMate grammars, but you will have to find and follow your IDE&#39;s specific instructions.</p>',95)])])}const D=e(r,[["render",p]]);export{y as __pageData,D as default};
