import{_ as a,c as s,o as e,ah as l}from"./chunks/framework.l_r_SdPt.js";const g=JSON.parse('{"title":"Dialog and Serial Dialog Strings","description":"","frontmatter":{},"headers":[],"relativePath":"dialog_and_serial_dialog_strings.md","filePath":"dialog_and_serial_dialog_strings.md"}'),t={name:"dialog_and_serial_dialog_strings.md"};function n(o,i,r,d,h,p){return e(),s("div",null,[...i[0]||(i[0]=[l(`<h1 id="dialog-and-serial-dialog-strings" tabindex="-1">Dialog and Serial Dialog Strings <a class="header-anchor" href="#dialog-and-serial-dialog-strings" aria-label="Permalink to “Dialog and Serial Dialog Strings”">​</a></h1><p>Dialog and serial dialog strings are <a href="./primitive_types.html#quoted-string">quoted strings</a> with extra attributes.</p><p>Used for:</p><ul><li><a href="./dialogs.html#dialog-message">dialog messages</a></li><li><a href="./dialogs.html#dialog-option">labels in dialog options</a></li><li><a href="./serial_dialogs.html#serial-dialog-message">serial dialog messages</a></li><li><a href="./serial_dialogs.html#serial-dialog-option">labels in serial dialog options</a></li></ul><h2 id="wrapping" tabindex="-1">Wrapping <a class="header-anchor" href="#wrapping" aria-label="Permalink to “Wrapping”">​</a></h2><ul><li>Both dialogs and serial dialogs are auto-wrapped according to the their <code>wrap</code> settings. This means line breaks are introduced whenever an individual line is too long.</li><li>Text wrapping newlines will replace contiguous sequences of spaces and/or tabs.</li><li>Preexisting newlines are left alone.</li><li>Quotes inside the string must be escaped with backslash (e.g. <code>\\&quot;</code>).</li><li>The values of integer variables and entity names may be inserted into dialog and serial dialog strings. See <a href="./state.html#printing-current-values">Variables &gt; Printing Current Values</a>.</li></ul><h2 id="sanitization" tabindex="-1">Sanitization <a class="header-anchor" href="#sanitization" aria-label="Permalink to “Sanitization”">​</a></h2><p>Dialogs can only print ASCII characters, and serial dialogs <em>should</em> only print ASCII characters.</p><ul><li>Smart quotes (<code>“”‘’</code>) are changed to normal quotes (<code>&quot;&#39;</code>).</li><li>Emdashes (<code>—</code>) are changed to two hyphens (<code>--</code>).</li><li>Endashes (<code>–</code>) are changed to one hyphen (<code>-</code>).</li><li>Ellipses (<code>…</code>) are changed to three periods (<code>...</code>).</li><li>Escaped tabs (<code>\\t</code>) are changed to real tabs.</li><li>Escaped newlines (<code>\\n</code>) are changed to real newlines.</li></ul><h2 id="printing-current-values" tabindex="-1">Printing Current Values <a class="header-anchor" href="#printing-current-values" aria-label="Permalink to “Printing Current Values”">​</a></h2><p>The values of integer variables and the current names of any entity can be inserted into dialog and serial dialog strings.</p><p>The wrapping character (<code>$</code> or <code>%</code>) will print if used on its own in any given line, but pairs of them will trigger this value replacement behavior. To force them to print literally, escape them with a backslash (e.g. <code>\\$</code>).</p><h3 id="print-variable-value" tabindex="-1">Print Variable Value <a class="header-anchor" href="#print-variable-value" aria-label="Permalink to “Print Variable Value”">​</a></h3><p>Enclose the name of the <a href="./state.html#integer-variables">variable</a> in dollar signs: <code>$appleCount$</code>. When text is wrapped, these inserts always count as 5 characters.</p><div class="language-mgs"><button title="Copy Code" class="copy"></button><span class="lang">mgs</span><pre class="shiki shiki-themes dark-plus light-plus" style="--shiki-dark:#D4D4D4;--shiki-light:#000000;--shiki-dark-bg:#1E1E1E;--shiki-light-bg:#FFFFFF;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-dark:#DCDCAA;--shiki-light:#795E26;">_</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;"> {</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">  mutate</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;"> appleCount</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;"> = </span><span style="--shiki-dark:#B5CEA8;--shiki-light:#098658;">10</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">;</span></span>
<span class="line"><span style="--shiki-dark:#569CD6;--shiki-light:#0000FF;">  show</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;"> serial</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;"> dialog</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;"> { </span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">&quot;I have $appleCount$ apples for sale today!&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;"> }</span></span>
<span class="line"><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">}</span></span></code></pre></div><p>The above script will produce:</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes dark-plus light-plus" style="--shiki-dark:#D4D4D4;--shiki-light:#000000;--shiki-dark-bg:#1E1E1E;--shiki-light-bg:#FFFFFF;" tabindex="0" dir="ltr"><code><span class="line"><span>I have 10 apples for sale today!</span></span>
<span class="line"><span></span></span>
<span class="line"><span>&gt;_</span></span></code></pre></div><h3 id="print-entity-name" tabindex="-1">Print Entity Name <a class="header-anchor" href="#print-entity-name" aria-label="Permalink to “Print Entity Name”">​</a></h3><p>Wrap an <a href="./entities.html">entity</a>&#39;s given name (the name assigned to it in Tiled) in percent signs (<code>%</code>) to insert the entity&#39;s name as it currently exists in RAM: <code>&quot;Hi, there! My name is %Bob%!&quot;</code></p><ul><li>When text is wrapped, these inserts always count as 12 characters.</li><li><code>%PLAYER%</code> always refers to the player entity.</li><li><code>%SELF%</code> always refers to the entity running the current script.</li></ul><h2 id="ansi-escape-sequences" tabindex="-1">Ansi Escape Sequences <a class="header-anchor" href="#ansi-escape-sequences" aria-label="Permalink to “Ansi Escape Sequences”">​</a></h2><p>Serial dialog quoted strings may also use ANSI styling via tags that resemble HTML styling. These tags are replaced by the associated ANSI escape sequence.</p><p>The user&#39;s color theme affects how styles appear in their serial console, and not all styles are implemented in all themes (or consoles). We therefore recommend using styles for optional flavor only, and not to impart gameplay-critical information.</p><ul><li><strong>Foreground colors</strong> (letter colors): <ul><li><code>&lt;black&gt;</code> or <code>&lt;k&gt;</code></li><li><code>&lt;red&gt;</code> or <code>&lt;r&gt;</code></li><li><code>&lt;green&gt;</code> or <code>&lt;g&gt;</code></li><li><code>&lt;yellow&gt;</code> or <code>&lt;y&gt;</code></li><li><code>&lt;blue&gt;</code> or <code>&lt;b&gt;</code></li><li><code>&lt;magenta&gt;</code> or <code>&lt;m&gt;</code></li><li><code>&lt;cyan&gt;</code> or <code>&lt;c&gt;</code></li><li><code>&lt;white&gt;</code> or <code>&lt;w&gt;</code></li></ul></li><li><strong>Background colors</strong>: <ul><li><code>&lt;bg-black&gt;</code> or<code>&lt;bg-k&gt;</code></li><li><code>&lt;bg-red&gt;</code> or<code>&lt;bg-r&gt;</code></li><li><code>&lt;bg-green&gt;</code> or<code>&lt;bg-g&gt;</code></li><li><code>&lt;bg-yellow&gt;</code> or<code>&lt;bg-y&gt;</code></li><li><code>&lt;bg-blue&gt;</code> or<code>&lt;bg-b&gt;</code></li><li><code>&lt;bg-magenta&gt;</code> or<code>&lt;bg-m&gt;</code></li><li><code>&lt;bg-cyan&gt;</code> or<code>&lt;bg-c&gt;</code></li><li><code>&lt;bg-white&gt;</code> or<code>&lt;bg-w&gt;</code></li></ul></li><li><strong>Emphasis</strong>: <ul><li><code>&lt;bold&gt;</code> (brighter colors and/or greater font weight)</li><li><code>&lt;dim&gt;</code></li></ul></li><li><strong>Reset all styles</strong>: <ul><li><code>&lt;reset&gt;</code> or <code>&lt;/&gt;</code></li><li>Styles can only be turned off all at once.</li><li>Styles will stay &quot;on&quot; until you explicitly turn them &quot;off&quot;.</li></ul></li><li><strong>Ring the terminal bell</strong>: <ul><li><code>&lt;bell&gt;</code></li><li>This isn&#39;t a style as such, but it is still available to use.</li><li>Note that this character may be printed depending on the destination terminal.</li></ul></li></ul><p>You could add custom ansi escape sequences if you wanted. As these strings are Javascript flavor, the escape character is <code>\\u001B</code>.</p><h3 id="example" tabindex="-1">Example <a class="header-anchor" href="#example" aria-label="Permalink to “Example”">​</a></h3><div class="language-mgs"><button title="Copy Code" class="copy"></button><span class="lang">mgs</span><pre class="shiki shiki-themes dark-plus light-plus" style="--shiki-dark:#D4D4D4;--shiki-light:#000000;--shiki-dark-bg:#1E1E1E;--shiki-light-bg:#FFFFFF;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-dark:#569CD6;--shiki-light:#0000FF;">serial_dialog</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;"> grandpa_rambling</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;"> {</span></span>
<span class="line"><span style="--shiki-dark:#CE9178;--shiki-light:#A31515;">  &quot;That doll is </span><span style="--shiki-dark:#808080;--shiki-light:#800000;">&lt;</span><span style="--shiki-dark:#569CD6;--shiki-light:#800000;">r</span><span style="--shiki-dark:#808080;--shiki-light:#800000;">&gt;</span><span style="--shiki-dark:#CE9178;--shiki-light:#A31515;">evil</span><span style="--shiki-dark:#808080;--shiki-light:#800000;">&lt;/&gt;</span><span style="--shiki-dark:#CE9178;--shiki-light:#A31515;">, I tells ya! </span><span style="--shiki-dark:#808080;--shiki-light:#800000;">&lt;</span><span style="--shiki-dark:#569CD6;--shiki-light:#800000;">r</span><span style="--shiki-dark:#808080;--shiki-light:#800000;">&gt;&lt;</span><span style="--shiki-dark:#569CD6;--shiki-light:#800000;">bold</span><span style="--shiki-dark:#808080;--shiki-light:#800000;">&gt;</span><span style="--shiki-dark:#CE9178;--shiki-light:#A31515;">EVIL</span><span style="--shiki-dark:#808080;--shiki-light:#800000;">&lt;/&gt;</span><span style="--shiki-dark:#CE9178;--shiki-light:#A31515;">!!&quot;</span></span>
<span class="line"><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">}</span></span></code></pre></div><blockquote><p>That doll is <span style="color:#b00;">evil</span>, I tells ya! <span style="color:#f33;font-weight:bold;">EVIL</span>!!</p></blockquote><p>You can also add styles one at a time, and they will accumulate:</p><div class="language-mgs"><button title="Copy Code" class="copy"></button><span class="lang">mgs</span><pre class="shiki shiki-themes dark-plus light-plus" style="--shiki-dark:#D4D4D4;--shiki-light:#000000;--shiki-dark-bg:#1E1E1E;--shiki-light-bg:#FFFFFF;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-dark:#569CD6;--shiki-light:#0000FF;">serial_dialog</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;"> accumulation</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;"> {</span></span>
<span class="line"><span style="--shiki-dark:#CE9178;--shiki-light:#A31515;">  &quot;plain text </span><span style="--shiki-dark:#808080;--shiki-light:#800000;">&lt;</span><span style="--shiki-dark:#569CD6;--shiki-light:#800000;">r</span><span style="--shiki-dark:#808080;--shiki-light:#800000;">&gt;</span><span style="--shiki-dark:#CE9178;--shiki-light:#A31515;">red text </span><span style="--shiki-dark:#808080;--shiki-light:#800000;">&lt;</span><span style="--shiki-dark:#569CD6;--shiki-light:#800000;">bold</span><span style="--shiki-dark:#808080;--shiki-light:#800000;">&gt;</span><span style="--shiki-dark:#CE9178;--shiki-light:#A31515;">add bold </span><span style="--shiki-dark:#808080;--shiki-light:#800000;">&lt;</span><span style="--shiki-dark:#569CD6;--shiki-light:#800000;">bg-b</span><span style="--shiki-dark:#808080;--shiki-light:#800000;">&gt;</span><span style="--shiki-dark:#CE9178;--shiki-light:#A31515;">add blue background</span><span style="--shiki-dark:#808080;--shiki-light:#800000;">&lt;/&gt;</span><span style="--shiki-dark:#CE9178;--shiki-light:#A31515;"> clear all&quot;</span></span>
<span class="line"><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">}</span></span></code></pre></div><blockquote><p>plain text <span style="color:#b00;">add red </span><span style="color:#f33;font-weight:bold;">add bold </span><span style="color:#f33;font-weight:bold;background-color:#00b;">add blue background</span> clear all</p></blockquote>`,31)])])}const k=a(t,[["render",n]]);export{g as __pageData,k as default};
